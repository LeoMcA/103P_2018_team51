{% extends 'base.html' %}

{% block title %}Events{% endblock %}

{% block header %}
  <h1 class="my-3">Events</h1>
{% endblock %}

{% block content %}
  <div class="row my-3">
    {% for event in events %}
      <div class="col-xl-4 my-3 d-flex align-items-stretch">
        <div class="event-box d-flex flex-column">
          <h2>{{ event.title }}</h2>
          <div class="event-details mb-3">
            {% if event.group %}
              <a href="{% url 'group-detail' event.group.id %}" class="badge badge-secondary">{{ event.group }}</a>
            {% endif %}
            <span class="event-location">{{ event.location }}</span>
          </div>
          <p>{{ event.short_description }}</p>

          {% include 'event-time.html' %}
          {% if event in user.events.all %}
            <a class="btn btn-outline-primary btn-sm btn-block mt-auto" href="{% url 'event' event.id %}" role="button">More &rarr;</a>
          {% else %}
            <a class="btn btn-primary btn-sm btn-block mt-auto" href="{% url 'event' event.id %}" role="button">Register &rarr;</a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
